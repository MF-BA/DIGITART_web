{% extends 'back.html.twig' %}

{% block title %}List of users{% endblock %}

{% block body %}
    <h1>List of users</h1>


 <div class="col-md-9">
                        
    
    
     <div class="dataTables_filter">
     <label>Search:
        <input type="search" class="form-control form-control-sm" placeholder="" aria-controls="users-table" id="search-input">
     </label>
     </div>
                           
                
                          
      <div class="outer-wrapper table-responsive">    
    <div class="table-wrapper"> 
       
    <table id="users-table" class="table table-striped table-hover">
        <thead class="thead-digitartcolor">
            <tr>
                
                <th>Cin</th>
                <th>Firstname</th>
                <th>Lastname</th>
                <th>Email</th>
                <th>Address</th>
                <th>PhoneNum</th>
                <th>BirthDate</th>
                <th>Gender</th>
                <th>Role</th>
                <th>Status</th>
                <th>actions</th>
            </tr>
        </thead>
        <tbody>
        {% for user in users %}
            <tr>
                <td>{{ user.cin }}</td>
                <td>{{ user.firstname }}</td>
                <td>{{ user.lastname }}</td>
                <td>{{ user.email }}</td>
                <td>{{ user.address }}</td>
                <td>{{ user.phoneNum }}</td>
                <td>{{ user.birthDate ? user.birthDate|date('Y-m-d') : '' }}</td>
                <td>{{ user.gender }}</td>
                <td>{{ user.role }}</td>
                <td>{{ user.status }}</td>
                <td>

                 <div class="d-flex">
                    <a href="{{ path('app_users_show', {'id': user.id}) }}">
                    <button type="button" class="btn btn-outline-info mr-2">
                    <i class="fa fa-question-circle"></i>
                    </button></a>

                    <a href="{{ path('app_users_edit', {'id': user.id}) }}">
                    <button type="button" class="btn btn-outline-dark mr-2">
                    <i class="fa fa-pencil-square"></i>
                    </button></a>

                    <a href="{{ path('app_users_updatestatus', {'id': user.id, 'newStatus': 'blocked'}) }}">
               <button type="button" class="btn btn-outline-danger mr-2">
               <i class="fa fa-lock"></i>
              </button>
              </a>

<a href="{{ path('app_users_updatestatus', {'id': user.id, 'newStatus': 'unblocked'}) }}">
    <button type="button" class="btn btn-outline-success mr-2">
    <i class="fa  fa-unlock"></i>
    </button>
</a>

                  </div>

                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="15">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    </div>
    
    
     </div>
 </div>
 
       

             
              
    <!-- <a href=" path('app_users_new') }}">Create new</a> --!>

{% endblock %}
