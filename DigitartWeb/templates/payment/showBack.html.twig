{% extends 'back.html.twig' %}

{% block title %}Payment{% endblock %}

{% block body %}
    <div class="breadcrumbs">
        <div class="col-sm-4">
            <div class="page-header float-left">
                <div class="page-title">
                    <h2>Dashboard</h2>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-12">
        <div class="card">
            <div class="card-header">
                <strong class="card-title">Payment Table</strong>
            </div>
            <div class="card-body">
                <table id="bootstrap-data-table-export" class="table table-striped table-bordered">
                    <thead>
                        <tr>
                            <th>Purchase Date</th>
                            <th>Number of Adults</th>
                            <th>Number of Teenagers</th>
                            <th>Number of Students</th>
                            <th>Total Payment</th>
                            <th>Payment Status</th>
                            
                        </tr>
                    </thead>
                    <tbody>
                    {% for payment in payments %}
                        <tr>
                            <td>{{ payment.purchaseDate ? payment.purchaseDate|date('Y-m-d') : '' }}</td>
                            <td>{{ payment.nbAdult }}</td>
                            <td>{{ payment.nbTeenager }}</td>
                            <td>{{ payment.nbStudent }}</td>
                            <td>{{ payment.totalPayment }}</td>
                            <td><i class="{{ payment.paid ? 'fa fa-check text-success' : 'fa fa-ban text-danger' }}"></i></td>                   
                        </tr>
                    {% else %}
                        <tr>
                            <td colspan="8">No records found.</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
               
                <div class="centered-paginator">
                {{ knp_pagination_render(payments) }}
                </div>


                     
            </div>
        </div>
    </div>

    <button type="button" class="btn btn-secondary btn-sm" onclick="window.location.href='{{ path('app_ticket_index') }}'"><i class="fa fa-mail-reply"></i>&nbsp;Back to Ticket List</button>
{% endblock %}
